Универсальный генератор сигналов.
Версия 0.15

Характеристики.



Напряжение питания		12В
Амплитуда сигнала		0 — 5В
Смещение				-3 — 3В
Разрядность ЦАП			8бит
Частота дискретизации	1,78МГц


Форма сигнала:
	синус
	треугольник
	пила 
	обратная пила 
	ЭКГ 
	шум 
	меандр
	высокая частота
	ШИМ (прямоугольник с рег. скважностью)
	импульсы специальной формы
	ТВ сигнал(полосы, сетка, клетчатое поле)
	двухтональный синус(DTMF)
	

Частота:
    Синус, треугольник, пила, обратная пила, ЭКГ: 1Гц — 111.1КГц
    Меандр: 1Гц — 500.0Кгц
    Меандр(высокая частота): 1МГц, 2МГц, 4МГц, 8МГц
	Двухтональный синус(DTMF): 1Гц - 10000Гц

ШИМ:
    1Гц-99КГц
    коэффициент заполнения 1% — 99%
    возможность внешней синхронизации

Импульсы специальной формы:
    Tмин. = Trise+Ton+Tfall+Toff = 8мкс
    Tмакс. = Trise+Ton+Tfall+Toff = 4000000мкс
    число импульсов 1 — 65535
    возможность запуска внешним импульсом


У генератора имеется 2 выхода — A, D и вход — E. Сигналы в режимах синус, треугольник, пила, обратная пила, ЭКГ, шум, ТВ, pulse выводятся на выход A.
В режимах ШИМ, меандр на выход — D. Этот выход имеет сигнал ттл уровня.
Вход E используется для запуска режима PULSE и для стробирования в режиме ШИМ. На входе имеется защитный резистор и стабилитрон, подтяжки к питанию нет.
Все установленные параметры сохраняются в энергонезависимой памяти контроллера после запуска генератора.



Режимы работы.

После включения прибора на дисплее в верхней строке отображается текущий режим работы и состояние(включен или выключен). В нижней строке указываются дополнительные параметры.
При нажатии кнопки реж.(mode) происходит смена режима работы устройства.  При нажатии кнопки уст.(set) включается режим установки параметров для текущего режима. 
Кнопка вкл./выкл(on/off) запускает или выключает генератор. Переключатель Ф. включает и выключает аналоговый фильтр на выходе A.

Синус (SINE), треугольник (TRIANGLE), пила (SAWTOOHWAVE), обратная пила (RSAWTOOHWAVE), ЭКГ (ECG).
Сигнал выбранной формы генерируется табличным методом. Т.к. с увеличением частоты уменьшается количество отсчетов, форма сигнала упрощается, появляются ступеньки. Для уменьшения подобного эффекта в схему добавлен аналоговый фильтр на 300КГц.
Для перехода в режим ввода частоты нужно нажать кнопку уст. В этом режиме в  верхней строке показывается текущая частота, в нижней — шаг устанавливаемого числа. Значение устанавливается кнопками +/-, шаг можно изменить кнопкой реж. По окончанию ввода нужно нажать кнопку уст., после чего генератор перейдет в основной режим.

Шум (NOISE).
Генерирует шум, не имеет настраиваемых параметров.

Меандр (SQUAREWAVE).
Генерирует прямоугольные импульсы с коэффициентом заполнения ~50%. Имеет более высокую точность чем режим ШИМ. Однако из-за особенностей прямого синтеза частоты присутствует джиттер(дрожание фронтов) порядка ~1мкс.

Высокая частота (HIGH SPEED).
Генерирует прямоугольные импульсы высокой частоты, с коэффициентом заполнения ~50%. Имеет всего 4 значения частоты: 1МГц, 2МГц, 4МГц, 8МГц.

ШИМ (PWM).
Генерирует прямоугольные импульсы с регулируемым коэффициентом заполнения путем деления тактовой частоты.
В этом режиме есть 3 настраиваемых параметра, переход между ними осуществляется последовательно нажатием кнопки уст.(SET) .
Частота устанавливается аналогично предыдущему.
Коэффициент заполнения(DC) устанавливается в диапазоне 1-99% с шагом в 1%  кнопками +\-.
Внешняя синхронизация(EXT SYNC) может иметь 3 значения, которые выбираются кнопками +\- :
	NO – отсутствует, генератор будет работать все время после нажатия кнопки вкл.
	HIGHT – генератор будет работать при наличии высокого уровня на входе E.
	LOW - генератор будет работать при наличии низкого уровня на входе E.
Во время работы генератора без внешней синхронизации(EXT SYNC=NO) возможно изменять частоту с коэф. заполнения нажатием кнопки уст.

Импульсы специальной формы (PULSE).
Позволяет генерировать импульсы с заданным периодом линейного нарастания/спада уровня сигнала. Имеет 6 настраиваемых параметров, 
Trise — период нарастания импульса  2 — 1000000мкс;
Ton — период высокого уровня  2 — 1000000мкс;
Tfall — период спада импульса  2 — 1000000мкс;
Toff — период низкого уровня  2 — 1000000мкс, устанавливаются кнопками +-, шаг выбирается кнопкой реж.
N – число импульсов, устанавливается кнопками +\-, шаг выбирается кнопкой реж.
	Диапазон 1 — 65535, после запуска генератор выдаст установленное колличество импульсов на выход A.
	ND – не определено, генератор будет работать все время после нажатия кнопки вкл. 
TRIGGER  — запуск генератора внешним импульсом на входе E. Значения,  выбираются кнопками +\- :
	NO – отсутствует, генератор будет работать все время после нажатия кнопки вкл.
	RISE – после нажатия кнопки вкл. генератор запустится только по фронту импульса на входе E. Во время ожидания в верхней строке дисплея будет показываться W:R
	FALL — после нажатия кнопки вкл. генератор запустится только по спаду импульса на входе E. Во время ожидания в верхней строке дисплея будет показываться W:F

ТВ (TV).
Генерирует аналоговый видеосигнал:
	вертикальные полосы(VERTICAL BARS);
	сетка(LATTICE);
	шахматное поле(CHESSBOARD).
Тип сигнала выбирается кнопкой уст. Для правильной работы нужно установить смещение на 0В, амплитуду 5В. Выход A подключается к видеовходу телевизора.

Двухтональный синус(DTMF).
Генерирует двухтональный синусоидальный сигнал. Частота первого и второго тона отображается в нижней строке дисплея. Для установки частот нажать кнопку уст.

Прошивка.
Фьюз биты: LOW = 0xFF, HIGH  = 0xD9.
Будьте осторожны, при последующей прошивке контроллер может не определяться без кварцевого резонатора!


Integrator.sb@gmail.com

2017
